<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html 
	  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html>

  <head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"></meta>
    <link type="text/css" rel="stylesheet" href="index.css"></link>
    <title>Subsitution Cypher</title>

    <!-- Conditionally load jquery locally or remotely -->
    <!-- <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script> -->
    <!-- <script src="http://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script> -->
    <script
       var ref = document.querySelector('script');
       ref.onerror = function() {
           console.log("Loading jquery caught an error");
       }
       ref.src="jquery3.6.0.min.js";
       ref.src="foobar.js";
       <!-- src="jquery3.6.0.min.js"> -->
    </script>

    <!-- <script> -->
    <!--   var ref = document.querySelector('script'); -->
    <!--   ref.onerror = function() { -->
    <!--   alert("Loading jquery caught an error"); -->
    <!--   } -->
    <!--   ref.src = "jquery3.6.0.min.js"; -->
    <!-- </script> -->

    <script>

      <!-- function getIP(){ -->
      <!--     fetch("https://ipinfo.io/json").then(function (response) { -->
      <!--         return response.json(); -->
      <!--     }).then(function (jsonResponse) { -->
      <!--         div.innerHTML = 'IP Address: ' + jsonResponse.ip; -->
      <!--     })   -->
      <!-- } -->

      // Stub for requesting encryption of text
      function getEncrypted(plaintext){

          <!-- var cypher_url = "Some URL"; -->
	  <!-- alert("Getting ENCRYPTING of " + plaintext); -->
	  <!-- console.log("Fetching CYPHER text from URL: " + cypher_url); -->
	  return "ENCRYPTED TEXT";
      }

      // Stub for requesting decryption of text
      function getDecrypted(encryptedtext){
          <!-- var cypher_url = "Some URL"; -->
	  <!-- console.log("Fetching PLAIN text from URL: " + cypher_url); -->
	  <!-- plaintext = "PLAINTEXT"; -->
	  return "PLAINTEXT";
      }

      function setResultBox(text) {
	  document.getElementById("DisplayBox").innerHTML = text;
      }

      // The text to decrypt
      $(document).ready(function() {

          $("#Button1").click(function(plaintextparm){
      	      var plaintext = $("[name='plaintext']").val();
              console.log("Button 1 labda");
	      console.log("ENCRYPTING: " + plaintext);
	      var encrypted = getEncrypted();
	      setResultBox(encrypted);
	  })

          $("#Button2").click(function(encryptedparm){
      	      var cyphertext = $("[name='encryptedtext']").val();
              console.log("Button 2 labda");
	      console.log("DECRYPTING: " + cyphertext);
	      var plaintext = getDecrypted(cyphertext);
	      setResultBox(plaintext);
	  })

	  <!-- document.getElementById("DisplayBox").value = "Waiting for Input"; -->
	  <!-- console.log("Result box is: " + document.getElementById("DisplayBox").value); -->

	  console.log("TExt BOX is: " + document.getElementById("DisplayBox").innerHTML);
        }
     )

    </script>

  </head>

  <body>

    <div id="Content">
      <center>
      <div id="Main">
	  <div id="SubTitleText">sole.log
	    <h1><i>Encrypt / Decrypt</i></h1>
	  </div>
	  <div id="RoundedFrame">

	    <div id="BoxFrame">

	      <div id="BoxTitle">
		Enter text to encrypt:
	      </div>
	      <br><br>
	      <form>
		<input type="text" id="TextEntry" name="plaintext">
	      </form>
	      <br>
		<div id="SingleButton">
		  <div class="Button" id="Button1">Encrypt</div>
		</div>
		<br><br><br><br>

	      <div id="BoxTitle">
		Enter text to decrypt:
	      </div>
	      <br><br>

              <form>
		<input type="text" id="TextEntry" name="encryptedtext">
	      </form>
              <br>
	      <div id="SingleButton">
		<div class="Button" id="Button2">Decrypt</div>
	      </div>
	      <br><br><br><br>

	      <!-- Here's where the result goes -->
	      <!-- <form id="DisplayBox"> -->
	      <!-- 	<\!-- <input type-"text" id="DisplayBox" name="resultBox"> -\-> -->
	      <!-- </form> -->

	      <div id="DisplayBox">
	      	Waiting for result...
	      </div>


      </div>
	</center>
    </div>

</body>

</html>
